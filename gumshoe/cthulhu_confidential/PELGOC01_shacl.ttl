@prefix pelgoc01: <https://raw.githubusercontent.com/AbsVahter/trpgontologies/main/gumshoe/cthulhu_confidential/PELGOC01.ttl#> .
@prefix bro: <https://raw.githubusercontent.com/AbsVahter/trpgontologies/main/_basic/BasicRulesOnto.ttl#> .
@prefix bno: <https://raw.githubusercontent.com/AbsVahter/trpgontologies/main/_basic/BasicNarrativeOnto.ttl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sche: <http://schema.org/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .

pelgoc01:SkillCheckShape a sh:NodeShape ;
    sh:targetClass bro:SkillCheck ;
    sh:property [ sh:path bro:uses ;
                  sh:class bro:Gamerule ;
                  sh:minCount 1;
                ] ,
                [ sh:path pelgoc01:advanceTarget ;
                  sh:maxCount 1 ;
                ] ,
                [ sh:path [ sh:alternativePath ( pelgoc01:plainAdvance ( pelgoc01:advance pelgoc01:gain pelgoc01:Edge ) )
                          ] ;
                  sh:maxCount 1 ;
                ] ,
                [ sh:path pelgoc01:holdTarget ;
                  sh:minCount 1 ;
                  sh:maxCount 1 ;
                ] ,
                [ sh:path [ sh:alternativePath ( pelgoc01:hold pelgoc01:plainHold )
                          ] ;
                  sh:maxCount 1 ;
                ] ,
                [ sh:path [ sh:alternativePath ( pelgoc01:plainSetback ( pelgoc01:setback pelgoc01:gain pelgoc01:Problem ) )
                          ] ;
                  sh:maxCount 1 ;
                ] ,
                [ sh:path pelgoc01:extraProblem ;
                  sh:class pelgoc01:Problem ;
                  sh:maxCount 1 ;
                ] .

pelgoc01:CardShape a sh:NodeShape ;
                   sh:targetClass pelgoc01:Card ;
                   sh:property [ sh:path bro:modifies ;
                                 sh:class bro:Gamerule ;
                               ] .

pelgoc01:ProblemShape a sh:NodeShape ;
    sh:targetClass pelgoc01:Problem ;
    sh:property [sh:path [sh:inversePath pelgoc01:counter
                         ] ;
                 sh:minCount 1 ;
                ] .

pelgoc01:SceneShape a sh:NodeShape ;
    sh:targetClass pelgoc01:Scene ;
    sh:property [ sh:path [ sh:alternativePath ( bno:cause [ sh:inversePath pelgoc01:antagonistReaction ] ) ] ;
                  sh:minCount 1 ;
                ] ,
                [ sh:path [ sh:alternativePath ( bno:consequence pelgoc01:clue [ sh:inversePath pelgoc01:antagonistReaction ] ) ]  ;
                  sh:minCount 1 ;
                ] .

pelgoc01:BulletShape a sh:NodeShape ;
    sh:targetClass pelgoc01:Bullet ;
    sh:property [ sh:path pelgoc01:bulletPoint ;
                  sh:minCount 1;
                ] ,
                [ sh:path pelgoc01:target ;
                  sh:minCount 1 ;
                ] ,
                [ sh:path pelgoc01:shooter ;
                  sh:minCount 1 ;
                ] ,
                [ sh:path bno:consequence ;
                  sh:or (
                         [ sh:class pelgoc01:Scene ; ]
                         [ sh:class pelgoc01:Bullet ; ]
                       ) ;
                ] .

pelgoc01:CharacterShape a sh:NodeShape ;
    sh:targetClass bno:Character ;
    sh:property [ sh:path pelgoc01:occupation ;
                  sh:minCount 1 ;
                  sh:maxCount 1 ;
                ].

pelgoc01:MotiveShape a sh:NodeShape ;
    sh:targetClass pelgoc01:Motive ;
    sh:property [ sh:path pelgoc01:target ;
                  sh:class bno:Character ;
                  sh:maxCount 1 ;
                ] .

pelgoc01:CaseShape a sh:NodeShape ;
    sh:targetClass pelgoc01:Case ;
    sh:property [ sh:path bno:location ;
                  sh:minCount 1 ;
                ] ,
                [ sh:path pelgoc01:investigator ;
                  sh:minCount 1 ;
                  sh:maxCount 1 ;
                ] ,
                [ sh:path pelgoc01:pastEvent ;
                  sh:minCount  1 ;
                ] ,
                [ sh:path pelgoc01:opener ;
                  sh:minCount 1;
                  sh:maxCount 1 ;
                ] ,
                [ sh:path pelgoc01:scene ;
                  sh:minCount 1 ;
                ] ,
                [ sh:path pelgoc01:year ;
                  sh:minCount 1;
                  sh:maxCount 1;
                ] .

pelgoc01:InvestigatorShape a sh:NodeShape ;
    sh:targetClass pelgoc01:Investigator ;
    sh:property [ sh:path pelgoc01:ability ;
                  sh:minCount 1 ;
                ] ,
                [ sh:path pelgoc01:abilityWith1Dice ;
                  sh:minCount 1 ;
                ] ,
                [ sh:path pelgoc01:abilityWith2Dices ;
                  sh:minCount 1 ;
                ] ,
                [ sh:path pelgoc01:source ;
                  sh:minCount 1 ;
                ] ,
                [ sh:path pelgoc01:startingProblem ;
                  sh:minCount 1 ;
                ] .

pelgoc01:SourceShape a sh:NodeShape ;
    sh:targetClass pelgoc01:Source ;
    sh:property [ sh:path pelgoc01:ability ;
                  sh:minCount 1 ;
                ] ,
                [ sh:path [ sh:alternativePath ( pelgoc01:motive pelgoc01:plainMotive ) ] ;
                  sh:minCount 1 ;
                ] .

pelgoc01:StoryHookShape a sh:NodeShape ;
    sh:targetClass pelgoc01:StoryHook ;
    sh:property [ sh:path bno:location ;
                  sh:minCount 1 ;
                ] ,
                [ sh:path sche:description ;
                  sh:minCount 1 ;
                  sh:maxCount 1 ;
                ] .

pelgoc01:LocationShape a sh:NodeShape ;
    sh:targetClass bno:Location ;
    sh:property [ sh:path bno:location ;
                  sh:maxCount 1 ;
                ] ,
                [ sh:path pelgoc01:represents ;
                  sh:maxCount 1 ;
                ] .